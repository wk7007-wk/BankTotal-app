# BankTotal 프로젝트 규칙

## 앱 개요
계좌잔고 위젯 + BBQ SFA BLOCK 금액 + 가계부(입출금 내역 관리)

## 개발 방침
- **오류/누락 절대 불가** — 사업 관련 금액 데이터. 수정 시 기존 기능 깨지지 않도록 반드시 검증
- 금액 표시, 계산, API 호출 로직 변경 시 이중 확인

## 가계부 기능 (Firebase 기반)
- **"이원규" 필터**: 입금/출금 모두 "이원규" 이름은 통장간 이동으로 제외 (조회 시)
- **입금**: 날짜별 합계 + 리스트식 표기
- **출금**: 리스트식 표기 + 같은 출금명은 카테고리 그룹핑
- **조회**: 날짜별 리스트, 카테고리별 합계, 기간별(주간/월간/커스텀)

## 아키텍처 (웹 우선)
- **SMS 수신** → Firebase에 원문(raw_sms) + 파싱 결과 저장
- **로컬 Room**: 계좌 잔고(위젯용)만 유지, 거래내역은 Firebase
- **Firebase 경로**: `/banktotal/transactions/{id}`, `/banktotal/accounts/{id}`
- **SMS 파서**: KB국민, 하나, 신협(SMS) + 신한(알림) + 메시지앱(RCS)
- **거래상대**: SMS 원문 저장 → 패턴 분석으로 점진적 파싱 개선
- **분석**: curl로 Firebase 데이터 읽어서 로그 분석/개선 가능

## GitHub
- 레포: `wk7007-wk/BankTotal-app` (프로젝트명과 레포명 다름 주의)
